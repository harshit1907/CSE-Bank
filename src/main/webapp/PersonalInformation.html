<!DOCTYPE html>
<html lang="en">
<head>
    <title>Personal Info</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/custom/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/custom/main.css">
    <link rel="stylesheet" href="css/custom/jsKeyboard.css" type="text/css" media="screen"/>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.1/mustache.js"></script>
    <script src="js/custom/common.js"></script>
    <script src="js/custom/nameboard.js"></script>
    <script src="js/custom/personalInfo.js"></script>
</head>

<body>
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
<!-- Header -->
<div id="navbarspace">

</div>

<div class="container">

    <div class="row row-offcanvas row-offcanvas-right">

        <div class="col-xs-12 col-sm-9">
            <p class="pull-right visible-xs">
                <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
            </p>
            <div class="jumbotron" id="nameboard">
                
            </div>
            <div class="row">
                <div class="table-responsive">
                    <h3>Personal Info</h3>
                    <hr>
                    
                    <form class="form-horizontal personalInfo" tourl="PersonalInformation.html" noalert="true">
                     	<div id="personalDetailsDiv">
	                        
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label"></label>
                            <div class="col-md-8">
                            	<a href="#" data-toggle="modal" class="btn btn-primary" data-target="#myModal">Change Password?</a>
                            	<span></span>
                                <!-- <button type="submit" class="btn btn-primary loginButton">
				                    <img src="images/lib/material-icons/core/lock-outline.svg" style="filter: invert(100%);">&nbsp;&nbsp;&nbsp;&nbsp;Submit
				                </button> -->
                                <span></span>
                                
                                <input type="reset" class="btn btn-default"  style="width: 30%; margin-left: 10px;" value="Cancel"><br/>
                                <button onclick="addKYC()" style="margin-top: 8px;" type="button" class="btn btn-primary">Submit</button> <br/>
                                <br/>
                            </div>
                        </div>
                    </form>
                </div>
            </div><!--/row-->
            
	        <!-- Modal -->
			<!-- Modal -->
          <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">
            
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Forgot Password</h4>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label for="username" class="col-sm-2 control-label">Username</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="username" name="username" placeholder="Username" value="">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row">
                        <button name="submitUsername" data-dismiss="modal" data-toggle="modal" data-target="#questionModal" type="button" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
              
            </div>
          </div>
		
		<!-- Modal -->
          <div class="modal fade" id="questionModal" role="dialog">
            <div class="modal-dialog">
            
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Forgot Password</h4>
                </div>
                <div class="modal-body">
	                  <div class="form-group">
	                    <label for="username" class="col-sm-2 control-label">Question 1:</label>
	                    <div class="col-sm-10">
	                    	<input type="text" class="form-control" id="question1" name="question1" value="" readonly>
	                        <input type="password" class="form-control" id="answer1" name="answer1" placeholder="Answer1" value="">
	                    </div>
	                  </div>
	                  <div class="form-group">
	                    <label for="username" class="col-sm-2 control-label">Question 2:</label>
	                    <div class="col-sm-10">
	                        <input type="text" class="form-control" id="question2" name="question2" value="" readonly>
	                        <input type="password" class="form-control" id="answer2" name="answer2" placeholder="Answer2" value="">
	                    </div>
	                  </div>
                  <div class="form-group">
                    <div class="row">
                        <button id="submitAnswer" name="submitAnswer" data-dismiss="modal" data-toggle="modal" data-target="#myOTPModal" type="button" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
              
            </div>
          </div>
		
		
		
		<div class="modal fade" id="myOTPModal" role="dialog">
            <div class="modal-dialog">
            
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Enter OTP</h4>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    
                    <div id="wrap">
					    <div class="spacer"></div>
					    <div class="row">
							<div class="col-md-3"><label for="otpValue" class="control-label">OTP</label></div>
							<div class="col-md-9"><input id="otpValue" class="input" name="otpValue" type="password" placeholder="OTP"></div>					    
					    </div>
					    <div class="row">
							<div class="col-md-3"><label for="newPass" class="control-label">New Password</label></div>
							<div class="col-md-9"><input id="newPass" class="input" name="newPass" type="password" placeholder="New Password"></div>					    
					    </div>
					    <div class="row">
							<div class="col-md-3"><label for="confPass" class="control-label">Confirm Password</label></div>
							<div class="col-md-9"><input id="confPass" class="input" name="confPass" type="password" placeholder="Confirm Password"></div>					    
					    </div>
                    </div>
                    <div id="virtualKeyboard"></div>
                  </div>
                  <div class="form-group">
                    <div class="row">
                    	<button id="submitOTP" name="submitOTP" data-dismiss="modal" type="button" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
              
            </div>
          </div>
            
            
            
        </div><!--/.col-xs-12.col-sm-9-->

        <div class="col-xs-6 col-sm-3 sidebar-offcanvas rightParentDiv" id="sidebar_external">

            <!--/.sidebar-offcanvas-->
        </div><!--/row-->
        
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas rightParentDiv" id="sidebar_internal_other">

            <!--/.sidebar-offcanvas-->
        </div><!--/row-->
        
        <div class="col-xs-6 col-sm-3 sidebar-offcanvas rightParentDiv" id="sidebar_internal_admin">

            <!--/.sidebar-offcanvas-->
        </div><!--/row-->        
        <hr>
    </div><!--/.container-->
    <footer>
        <p>&copy; CSE Bank Group1 and contributors 2016.</p>
    </footer>
</body>
<script type="text/javascript" src="js/custom/jsKeyboard.js"></script>
<script src="js/custom/main.js"></script> 
<script type="text/javascript">
	$(document).ready(function() {
		jsKeyboard.changeToNumber();
	});
</script> 
<script>
    $(document).ready(function () {
        $('#myTable').dataTable();
        $("#myTable_length").hide();
        $("#myTable_filter").hide();
    });
    var template_details = {
        users_active : "active"
    }
    var internal_admin = false
    var external = false
    var internal_other = true
    
    $("button[name^='submitOTP']" ).click(function() {
		var inputText = $("#username").val();
//    console.log(inputText);
	    var otpValue = $("#otpValue").val();
	    var newPassword = $("#newPass").val();
	    var confPassword = $("#confPass").val();
	    var data = '{"userId":"' + inputText + '", "otp":"'+otpValue+'", "password": "'+ newPassword+'", "confirm_password": "'+ confPassword + '" }';
	 //   console.log(data);
	    //debugger
	    $.ajax({
	       url : '/group1/anonymous/otpAndNewPassword/',
	       type :'POST',
	       data: data,
	       contentType: 'application/json',
	       success : function(data) {
	    	   //alert(data);
	    	//   console.log("this");
	       //    console.log(data);
	           
	           //$("#question1").
	       },
	       error : function(jqXHR, textStatus, errorThrown) {
	           alert("Some problem detected while deleting")
	          // console.log(jqXHR)
	       }
	   });
	})
</script>
</html>